# sim ディレクトリ

シミュレーション関連のコードをまとめる。  
車両モデル（models/）と制御アルゴリズム（controllers/）を組み合わせ、仮走行やテストを実行する。

---

## ファイル一覧

### sim_manager.py
シミュレーション全体の進行管理を行う。

- シナリオの開始・終了
- 制御モードの切り替え（経路追従 / 目的地点）
- 複数のシナリオを連続的に実行

### simulation.py
シミュレーションループ本体。現在は車両モデルや制御の呼び出しを集中的に行っている。

- 車両状態の更新
- controllers からの制御値取得
- モード切替ロジックの保持

### visualization.py
シミュレーションの結果を可視化する。

- 経路・走行軌跡の描画
- 誤差（CTE, θerr, ωerr など）の時系列表示
- デバッグやレポート用途で利用

---

## 今後の整理方針
- `simulation.py` に集中している責務を分離（車両モデルや描画部分は専用ファイルへ）
- 実機用とシミュ用で共通のインターフェースを持たせて差し替え可能にする
- ログや画像保存を sim/ に集約する
